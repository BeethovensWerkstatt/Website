{% comment %}
Breadcrumb Navigation Component
Generates breadcrumbs based on page URL and title
{% endcomment %}

<nav class="breadcrumb-nav" aria-label="Breadcrumb Navigation">
  <div class="breadcrumb-wrapper">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{{ '/' | relative_url }}">Home</a>
      </li>
      
      {% comment %} Handle different page types {% endcomment %}
      {% assign url_parts = page.url | split: '/' %}
      {% assign first_part = url_parts[1] %}
      
      {% comment %} Main section breadcrumb {% endcomment %}
      {% if first_part == 'glossar' %}
        {% comment %} If this is a specific glossary term, show link to glossar + term title {% endcomment %}
        {% if url_parts.size > 2 and page.title %}
          <li class="breadcrumb-item">
            <a href="{{ '/glossar/' | relative_url }}">Glossar</a>
          </li>
          <li class="breadcrumb-item active">{{ page.title }}</li>
        {% else %}
          {% comment %} This is the glossar overview page {% endcomment %}
          <li class="breadcrumb-item active">Glossar</li>
        {% endif %}
      
      {% elsif first_part == 'news' %}
        {% comment %} If this is a specific news post, show link to news + post title {% endcomment %}
        {% if page.layout == 'post' and page.title %}
          <li class="breadcrumb-item">
            <a href="{{ '/news/' | relative_url }}">News</a>
          </li>
          <li class="breadcrumb-item active">{{ page.title }}</li>
        {% else %}
          {% comment %} This is the news overview page {% endcomment %}
          <li class="breadcrumb-item active">News</li>
        {% endif %}
      
      {% elsif first_part contains 'modul-' %}
        {% assign module_num = first_part | replace: 'modul-', '' %}
        <li class="breadcrumb-item active">Modul {{ module_num }}</li>
      
      {% elsif first_part == 'projekt' %}
        <li class="breadcrumb-item active">Projekt</li>
      
      {% elsif first_part == 'tools' %}
        <li class="breadcrumb-item active">Tools</li>
      
      {% elsif first_part == 'documentation' %}
        <li class="breadcrumb-item active">Dokumentation</li>
      
      {% elsif first_part == 'contact' %}
        <li class="breadcrumb-item active">Kontakt</li>
      
      {% elsif first_part == 'module' %}
        <li class="breadcrumb-item active">Module</li>
      
      {% elsif page.parent %}
        {% comment %} Handle pages with custom parent (e.g., projekt collection) {% endcomment %}
        <li class="breadcrumb-item">
          <a href="{{ page.parent_url | relative_url }}">{{ page.parent }}</a>
        </li>
        <li class="breadcrumb-item active">{{ page.title }}</li>
      
      {% else %}
        {% comment %} Generic handling for other pages {% endcomment %}
        {% if page.title %}
          <li class="breadcrumb-item active">{{ page.title }}</li>
        {% else %}
          <li class="breadcrumb-item active">{{ first_part | replace: '-', ' ' | capitalize }}</li>
        {% endif %}
      {% endif %}
    </ol>
  </div>
</nav>